<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar</title>
    <!--Navbar icons-->
    <link rel="icon" href="images/favicon.ico">
    <!--CSS-->
    <link rel="stylesheet" href="nav.css" />
    <link rel="stylesheet" type="text/css" href="evo-calendar.css" />
    <link rel="stylesheet" type="text/css" href="evo-calendar.orange-coral.css" />
    <script src="http://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body id="body-pd">

    <div data-role="header">
        <form action="/" method="post">
            <div class="l-navbar" id="navbar">
                <nav class="nav">
                    <div>
                        <div class="nav__brand">
                            <ion-icon name="menu-outline" class="nav__icon nav__toggle" id="nav-toggle"></ion-icon>
                            <a href="homepage.html" class="nav__logo">T_TDo</a>
                        </div>
                        <div>
                            <form action="/cal" method="post">
                                <a href="/cal" class="nav__link" type="submit">
                                    <ion-icon name="calendar-outline" class="nav__icon"></ion-icon>
                                    <span class="nav__name">My Calendar</span>
                                </a>
                            </form>
                            <form action="/list" method="post">
                                <a href="/list" class="nav__link" type="submit">
                                    <ion-icon name="checkbox-outline" class="nav__icon"></ion-icon>
                                    <span class="nav__name">To-do List</span>
                                </a>
                            </form>
                            <form action="/logout" method="post">
                                <a class="nav__link" href="/logout" role="button" type="submit">
                                    <ion-icon name="log-out-outline" class="nav__icon"></ion-icon>
                                    <span class="nav__name">Log Out</span>
                                </a>
                            </form>
                        </div>
                    </div>
                </nav>
            </div>
        </form>
    </div>

    <!--create a calendar-->
    <div id="calendar"></div>

    <div class="box">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="evo-calendar.js"></script>
        <script>
            $(document).ready(function() {
                const localTaskList = <%- taskList %>
                $('#calendar').evoCalendar({
                    theme: "Orange Coral"
                })
                for (let i = 0; i < localTaskList.length; i++) {
                    $('#calendar').evoCalendar('addCalendarEvent', {     
                        id: localTaskList[i]._id,
                        name: localTaskList[i].item,
                        description: localTaskList[i].description,
                        date: localTaskList[i].date,
                        type: localTaskList[i].type
                    });
                }
            })
        </script>

        <!--Ionicons-->
        <script src="https://unpkg.com/ionicons@5.2.3/dist/ionicons.js"></script>

        <!--Main JS-->
        <script src="nav.js"></script>

</body>

</html>
